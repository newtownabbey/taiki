<!DOCTYPE html>  <html> <head>   <title>1d_oojs.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               1d_oojs.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h1>Object Oriented Javascript Tutorial</h1>

<h2>Not everything in Javascript are objects</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Primitive Values:</h3>

<p>String
Number
Boolean
Undefined
Null</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h3>Objects:</h3>

<p>Object
Array
Function
Date
RegExp</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>String is a primitive value, not an object.
Even though we can use a string literal and use a property on it</p>             </td>             <td class="code">               <div class="highlight"><pre> <span class="s2">&quot;hello&quot;</span><span class="p">.</span><span class="nx">length</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>What Javascript actually does behind the scene.
after our statement executes the String object is completely gone by the garbage collector</p>             </td>             <td class="code">               <div class="highlight"><pre> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>The only way to create to create an object from a primitive value is to use a constructor (new) from the particular datatype:</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">);</span>
<span class="k">typeof</span> <span class="nx">obj</span><span class="p">;</span>     <span class="c1">// -&gt; &quot;object&quot; , the datatype is still an object and not converted into a string</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">();</span>  <span class="c1">// -&gt; &quot;hello&quot;</span>
<span class="k">typeof</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">();</span>  <span class="c1">// -&gt; &quot;string&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>create a variable with a value 10</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>assing a property for this value</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">num</span><span class="p">.</span><span class="nx">property</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span><span class="p">;</span> <span class="c1">// -&gt; &quot;hello&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>by try to access this property. num is a value, it is not possible to assign a property to a value.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">num</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>           <span class="c1">// -&gt; undefined</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>create an object</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">num</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Number</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>assign a property for this value</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">num</span><span class="p">.</span><span class="nx">property</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span><span class="p">;</span> <span class="c1">// -&gt; &quot;hello&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>access this property. num is an object and therefor it is possible to assign a property.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">num</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>           <span class="c1">// -&gt; &quot;hello&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <h2>Creating Objects and Factory Functions</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>old way:</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">person</span>          <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">firstName</span>    <span class="o">=</span> <span class="s2">&quot;John&quot;</span><span class="p">;</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">lastName</span>     <span class="o">=</span> <span class="s2">&quot;Doe&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Javascript does not have methods like in other OO-languages, rather it has properties that contains function objects</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">person</span><span class="p">.</span><span class="nx">sayHi</span>        <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">;</span>
<span class="p">};</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">firstName</span><span class="p">;</span> <span class="c1">// -&gt; &quot;John&quot;</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">lastName</span><span class="p">;</span>  <span class="c1">// -&gt; &quot;Doe&quot;</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">();</span>   <span class="c1">// -&gt; &quot;Hi there&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>new way (equivalent to the old way):</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">firstName</span>   <span class="o">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="nx">lastName</span>    <span class="o">:</span> <span class="s2">&quot;Doe&quot;</span><span class="p">,</span>
    <span class="nx">sayHi</span>       <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>if we want to create another person 'Jane Doe', then we can copy it:</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">firstName</span>   <span class="o">:</span> <span class="s2">&quot;Jane&quot;</span><span class="p">,</span>
    <span class="nx">lastName</span>    <span class="o">:</span> <span class="s2">&quot;Doe&quot;</span><span class="p">,</span>
    <span class="nx">sayHi</span>       <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>or a better way is to use a factory function</p>

<h3>Factory Functions</h3>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">createPerson</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">firstName</span>   <span class="o">:</span> <span class="nx">firstName</span><span class="p">,</span>
        <span class="nx">lastName</span>    <span class="o">:</span> <span class="nx">lastName</span><span class="p">,</span>
        <span class="nx">sayHi</span>       <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="k">return</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">johnDoe</span> <span class="o">=</span> <span class="nx">createPerson</span><span class="p">(</span><span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="s2">&quot;Doe&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">janeDoe</span> <span class="o">=</span> <span class="nx">createPerson</span><span class="p">(</span><span class="s2">&quot;Jane&quot;</span><span class="p">,</span> <span class="s2">&quot;Doe&quot;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <h2>The this keyword</h2>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span>   <span class="o">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="nx">greet</span>       <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="s2">&quot;My name is &quot;</span> <span class="o">+</span> <span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>use the this keyword</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">johnDoe</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span>   <span class="o">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="nx">greet</span>       <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="s2">&quot;My name is &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="nx">johnDoe</span><span class="p">.</span><span class="nx">greet</span><span class="p">();</span> <span class="c1">// -&gt; My name is John Doe</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;Jane Doe&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">globalGreet</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="s2">&quot;My name is &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// name refers to the context</span>
<span class="p">};</span>
<span class="nx">globalGreet</span><span class="p">();</span> <span class="c1">// -&gt; My name is Jane Doe</span>

<span class="kd">var</span> <span class="nx">johnDoe</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span>    <span class="o">:</span> <span class="s2">&quot;John Doe&quot;</span>
    <span class="nx">greet</span>   <span class="o">:</span> <span class="nx">globalGreet</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">johnDoe</span><span class="p">.</span><span class="nx">globalGreet</span><span class="p">;</span> <span class="c1">// -&gt; My name is John Doe</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>disable context</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">window</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;Jane Doe&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">globalGreet</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="s2">&quot;My name is &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// name refers to the context</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>to bind globalGreet function inside johnDoe with the global name</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">johnDoe</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span>    <span class="o">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="nx">greet</span>   <span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">globalGreet</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">)</span>  <span class="c1">// -&gt; My name is Jane Doe</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>simulate CallBack-Scenario</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">makeRequest</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>make the request with the provided URL</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// json text xml</span>

    <span class="nx">callback</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">someValue</span>   <span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="nx">loadData</span>    <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">someValue</span> <span class="o">+</span> <span class="nx">data</span><span class="p">;</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">sum</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">prepareRequest</span>  <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;http://numberservice.com&quot;</span><span class="p">;</span>
        <span class="nx">makeRequest</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">loadData</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 